<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìˆ«ì ì•¼êµ¬ ê²Œì„</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #container {
            background-color: white;
            padding: 40px; /* í¬ê¸° ì¡°ì • */
            border-radius: 24px; /* í¬ê¸° ì¡°ì • */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* í¬ê¸° ì¡°ì • */
            width: 60%; /* ê°€ë¡œ í¬ê¸° ì¡°ì • */
        }

        h2 {
            color: #33ad6a;
            font-size: 72px; /* í¬ê¸° ì¡°ì • */
            margin-top: 20px; /* í¬ê¸° ì¡°ì • */
        }

        p {
            font-size: 36px; /* í¬ê¸° ì¡°ì • */
            margin-top: 20px; /* í¬ê¸° ì¡°ì • */
        }

        form {
            margin-top: 40px; /* í¬ê¸° ì¡°ì • */
        }

        input[type="text"], input[type="button"] {
            padding: 18px 36px; /* í¬ê¸° ì¡°ì • */
            font-size: 32px; /* í¬ê¸° ì¡°ì • */
            border: 2px solid #ccc; /* í¬ê¸° ì¡°ì • */
            border-radius: 12px; /* í¬ê¸° ì¡°ì • */
        }

        input[type="button"] {
            color: white;
            background-color: #007bff;
            border-color: #007bff;
            cursor: pointer;
        }

        button {
            padding: 18px 36px; /* í¬ê¸° ì¡°ì • */
            font-size: 32px; /* í¬ê¸° ì¡°ì • */
            border: none;
            border-radius: 12px; /* í¬ê¸° ì¡°ì • */
            cursor: pointer;
            margin: 10px;
        }

        #result {
            font-size: 48px; /* í¬ê¸° ì¡°ì • */
            color: #33ad6a;
            margin-top: 40px; /* í¬ê¸° ì¡°ì • */
        }

        #hint {
            font-size: 36px; /* í¬ê¸° ì¡°ì • */
            color: #777;
            margin-top: 20px; /* í¬ê¸° ì¡°ì • */
        }

        #attempts {
            font-size: 36px; /* í¬ê¸° ì¡°ì • */
            color: #777;
            margin-top: 20px; /* í¬ê¸° ì¡°ì • */
        }
    </style>
</head>
<body>
<div id="container">
    <h2>ìˆ«ì ì•¼êµ¬ ê²Œì„</h2>
    <p>ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ë„¤ ìë¦¬ ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
    <form>
        <input type="text" id="userInput" maxlength="4">
        <input type="button" value="í™•ì¸" onclick="checkGuess()">
    </form>
    <button onclick="resetGame()">ë¦¬ì…‹</button>
    <button onclick="showHint()">íŒíŠ¸</button>
    <p id="hint">íŒíŠ¸: ? ? ? ? ?</p>
    <p id="attempts">ë‚¨ì€ ê¸°íšŒ: 10</p>
    <div id="result"></div>
</div>
<script>
  let answer = generateAnswer();
  let attempts = 10;

  function generateAnswer() {
      let numbers = [];
      while (numbers.length < 4) {
          let num = Math.floor(Math.random() * 10);
          if (!numbers.includes(num)) {
              numbers.push(num);
          }
      }
      return numbers.join('');
  }

  function checkGuess() {
      let userInput = document.getElementById('userInput').value;
      if (userInput.length !== 4 || !/^\d{4}$/.test(userInput)) {
          alert('ì˜¬ë°”ë¥¸ ë„¤ ìë¦¬ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
          return;
      }

      if (hasDuplicates(userInput)) {
          alert('ì¤‘ë³µëœ ìˆ«ìë¥¼ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          return;
      }

      attempts--;

      let strikes = 0;
      let balls = 0;

      for (let i = 0; i < 4; i++) {
          if (userInput[i] === answer[i]) {
              strikes++;
          } else if (answer.includes(userInput[i])) {
              balls++;
          }
      }

      let resultMessage;
      if (strikes === 4) {
          resultMessage = 'ğŸ‰í™ˆëŸ°!!ğŸ¥³ğŸ‰';
          resetGame();
      } else if (attempts === 0) {
          resultMessage = `íšŸìˆ˜ ì´ˆê³¼! ì •ë‹µì€ ${answer}ì…ë‹ˆë‹¤.`;
          resetGame();
      } else {
          resultMessage = `${strikes} ìŠ¤íŠ¸ë¼ì´í¬, ${balls} ë³¼. ë‚¨ì€ ê¸°íšŒ: ${attempts}`;
      }

      document.getElementById('result').textContent = resultMessage;
      document.getElementById('attempts').textContent = `ë‚¨ì€ ê¸°íšŒ: ${attempts}`;
  }

  function hasDuplicates(str) {
      return (new Set(str)).size !== str.length;
  }

  function resetGame() {
      answer = generateAnswer();
      attempts = 10;
      document.getElementById('result').textContent = '';
      document.getElementById('attempts').textContent = 'ë‚¨ì€ ê¸°íšŒ: 10';
      document.getElementById('userInput').value = '';
      document.getElementById('hint').textContent = 'íŒíŠ¸: ? ? ? ? ?';
  }

  function showHint() {
      let hintNumbers = answer.split('');
      let remainingNumbers = Array.from({ length: 10 }, (_, i) => i).filter(num => !hintNumbers.includes(num));
      let randomIndex = Math.floor(Math.random() * remainingNumbers.length);
      hintNumbers.push(remainingNumbers[randomIndex]);
      hintNumbers.sort((a, b) => b - a);
      document.getElementById('hint').textContent = `íŒíŠ¸: ${hintNumbers.join(' ')} ì´ ì¤‘ì—ì„œ ë„¤ ê°œê°€ ì •ë‹µì…ë‹ˆë‹¤.`;
  }
</script>
</body>
</html>
